<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="baidu-site-verification" content="L6Lm9d5Crl"/>
  
  
  
  
  <title>knifefire的小空间</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="©knifefire著，转载请注明出处哦 如果你没有任何命令行经验，那么请先点我！！！点此加作者QQ 对于没有电脑，却又想成为一名天才极客的童鞋们简直就是不要太好 我是疫情期间的第一个春节才开始接触termux的，之后就一发不可收拾。 初始化第一次启动Termux的时候需要从远程服务器加载数据，然而可能会遇到这种问题： Ubable to install  Termux was unable to">
<meta property="og:type" content="article">
<meta property="og:title" content="knifefire的小空间">
<meta property="og:url" content="http://yoursite.com/2022/09/12/termux/index.html">
<meta property="og:site_name" content="knifefire的小空间">
<meta property="og:description" content="©knifefire著，转载请注明出处哦 如果你没有任何命令行经验，那么请先点我！！！点此加作者QQ 对于没有电脑，却又想成为一名天才极客的童鞋们简直就是不要太好 我是疫情期间的第一个春节才开始接触termux的，之后就一发不可收拾。 初始化第一次启动Termux的时候需要从远程服务器加载数据，然而可能会遇到这种问题： Ubable to install  Termux was unable to">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://localhost/wordpress/wp-content/uploads/2022/08/15251875958364-300x93.png">
<meta property="article:published_time" content="2022-09-12T12:11:56.493Z">
<meta property="article:modified_time" content="2022-09-12T14:01:43.467Z">
<meta property="article:author" content="knifefire">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://localhost/wordpress/wp-content/uploads/2022/08/15251875958364-300x93.png">
  
    <link rel="alternative" href="/atom.xml" title="knifefire的小空间" type="application/atom+xml">
  
  
    <link rel="icon" href="/img/favicon.jpg">
  
  
  
<link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  
  
      <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  
  <!-- 加载特效 -->
    <script src="/js/pace.js"></script>
    <link href="/css/pace/pace-theme-flash.css" rel="stylesheet" />
  <script>
      var yiliaConfig = {
          fancybox: true,
          animate: true,
          isHome: false,
          isPost: true,
          isArchive: false,
          isTag: false,
          isCategory: false,
          open_in_new: false
      }
  </script>
<meta name="generator" content="Hexo 6.3.0"></head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        
<script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>

        <a href="/" class="profilepic">
            
            <img lazy-src="/img/avatar.png" class="js-avatar">
            
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/"></a></h1>
        </hgroup>
        
        
            <form>
                <input type="text" class="st-default-search-input search" id="local-search-input" placeholder="搜索一下" autocomplete="off">
            </form>
            <div id="local-search-result"></div>
        
        
            <script type="text/javascript">
                (function() {
                    'use strict';
                    function getMatchData(keyword, data) {
                        var matchData = [];
                        for(var i =0;i<data.length;i++){
                            if(data[i].title.toLowerCase().indexOf(keyword)>=0) 
                                matchData.push(data[i])
                        }
                        return matchData;
                    }
                    var $input = $('#local-search-input');
                    var $resultContent = $('#local-search-result');
                    $input.keyup(function(){
                        $.ajax({
                            url: '/search.json',
                            dataType: "json",
                            success: function( json ) {
                                var str='<ul class=\"search-result-list\">';                
                                var keyword = $input.val().trim().toLowerCase();
                                $resultContent.innerHTML = "";
                                if ($input.val().trim().length <= 0) {
                                    $resultContent.empty();
                                    $('#switch-area').show();
                                    return;
                                }
                                var results = getMatchData(keyword, json);
                                if(results.length === 0){
                                    $resultContent.empty();
                                    $('#switch-area').show();
                                    return;
                                } 
                                for(var i =0; i<results.length; i++){
                                    str += "<li><a href='"+ results[i].url +"' class='search-result-title'>"+ results[i].title +"</a></li>";
                                }
                                str += "</ul>";
                                $resultContent.empty();
                                $resultContent.append(str);
                                $('#switch-area').hide();
                            }
                        });
                    });
                })();
            </script>
        
        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        
        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a  href="/archives/">所有文章</a></li>
                        
                            <li><a  href="/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/">玩转开发工具</a></li>
                        
                            <li><a  href="/categories/digital">玩转数码</a></li>
                        
                            <li><a  href="/categories/algorithm">算法学习</a></li>
                        
                            <li><a  href="/about/">关于我</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fl github"  target="_blank" href="/xxxxx" title="github">github</a>
                            
                                <a class="fl weibo"  target="_blank" href="/xxxxxxxx" title="weibo">weibo</a>
                            
                                <a class="fl rss"  target="_blank" href="/atom.xml" title="rss">rss</a>
                            
                        </ul>
                    </nav>
                </section>
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        
                    </div>
                </section>
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://blog.csdn.net/baidu_21483933">csdn</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="https://segmentfault.com/blog/maocg_web">segmentfault</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://www.jianshu.com/users/eb37ef89c746/latest_articles">简书</a>
                    
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">爱追剧,爱游戏,爱编程,爱运动,爱的太多了!</div>
                </section>
                
            </div>
        </div>
    </header>
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页"></a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                
                    <img lazy-src="/img/avatar.png" class="js-avatar">
                
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页"></a></h1>
            </hgroup>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/archives/">所有文章</a></li>
                
                    <li><a href="/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/">玩转开发工具</a></li>
                
                    <li><a href="/categories/digital">玩转数码</a></li>
                
                    <li><a href="/categories/algorithm">算法学习</a></li>
                
                    <li><a href="/about/">关于我</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                <div class="social">
                    
                        <a class="github" target="_blank" href="/xxxxx" title="github">github</a>
                    
                        <a class="weibo" target="_blank" href="/xxxxxxxx" title="weibo">weibo</a>
                    
                        <a class="rss" target="_blank" href="/atom.xml" title="rss">rss</a>
                    
                </div>
            </nav>
        </header>
    </div>
</nav>
      <div class="body-wrap"><article id="post-termux" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2022/09/12/termux/" class="article-date">
      <time datetime="2022-09-12T12:11:56.493Z" itemprop="datePublished">2022-09-12</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p><img src="http://localhost/wordpress/wp-content/uploads/2022/08/15251875958364-300x93.png"><br>©knifefire著，转载请注明出处哦</p>
<h2 id="如果你没有任何命令行经验，那么请先点我！！！"><a href="#如果你没有任何命令行经验，那么请先点我！！！" class="headerlink" title="如果你没有任何命令行经验，那么请先点我！！！"></a><a target="_blank" rel="noopener" href="http://jason-hue.github.io/terminal/">如果你没有任何命令行经验，那么请先点我！！！</a></h2><p><a target="_blank" rel="noopener" href="https://qm.qq.com/cgi-bin/qm/qr?k=JfLh15cfSzG0vziJz6EdW67XrIlSMpdM&noverify=0">点此加作者QQ</a></p>
<p>对于没有电脑，却又想成为一名天才极客的童鞋们简直就是不要太好</p>
<p>我是疫情期间的第一个春节才开始接触termux的，之后就一发不可收拾。</p>
<h2 id="初始化"><a href="#初始化" class="headerlink" title="初始化"></a>初始化</h2><p>第一次启动Termux的时候需要从远程服务器加载数据，然而可能会遇到这种问题：</p>
<pre><code>Ubable to install

Termux was unable to install the bootstrap packages.

Check your network connection and try again.
</code></pre>
<p>这里的Termux官方远程的服务器地址是: <a target="_blank" rel="noopener" href="http://termux.net/bootstrap/">http://termux.net/bootstrap/</a></p>
<p>目前解决方法有两种：</p>
<p>VPN 全局代理 （成功率很高）</p>
<p>如果你是 WiFi 的话尝试切换到运营商流量 （有一定成功率）</p>
<p>① Google Play</p>
<p>② F-Droid</p>
<p>③ 酷安 根据这个顺序重复1、2操作</p>
<p>基本操作:</p>
<p>基本操作还是要学习一下的，可以事半功倍。</p>
<p>缩放文本</p>
<p>可以使用缩放手势来调整其字体大小。 对就是 双指放大缩小照片那样操作。</p>
<p>长按屏幕</p>
<p>长按屏幕会调出显示菜单项（包括复制、粘贴、更多），方便我们进行复制或者粘贴</p>
<p>菜单的说明如下：</p>
<p>长按屏幕</p>
<pre><code>├── COPY:    # 复制

├── PASTE:   # 粘贴

├── More:    # 更多

├── Select URL:             # 提取屏幕所有网址

└── Share transcipt:        # 分享命令脚本

└── Reset:                  # 重置

└── Kill process:           # 杀掉当前会话进程

└── Style:                  # 风格配色 需要自行安装

└── Keep screen on:         # 保持屏幕常亮

└── Help:                   # 帮助文档
</code></pre>
<p>会话管理</p>
<p>显示隐藏式导航栏，可以新建、切换、重命名会话session和调用弹出输入法</p>
<p>同时在Android的通知栏中也可以看到当前Termux运行的会话数：</p>
<p>常用按键</p>
<p>常用键是PC端常用的按键如: ESC键、Tab键、CTR键、ALT键，有了这些按键后可以提高我们日常操作的效率，所以Termux后面的版本默认都是显示这个扩展功能按键的。</p>
<p>打开和隐藏这个扩展功能按键目前有下面两种方法：</p>
<p>方法一</p>
<p>从左向右滑动,显示隐藏式导航栏,长按左下角的KEYBOARD</p>
<p>方法二</p>
<p>使用Termux快捷键:音量++Q键 或者 音量++K键</p>
<p>当然这个常用按键在 Termux 后面的版本也支持自定义的，详情见本文的「进阶配置」-「定制常用按键」这一小节。</p>
<p>基础知识</p>
<p>这些基础知识简单了解一下就可以了，Linux 用的多了 就会慢慢熟悉理解了。</p>
<p>快捷键表</p>
<p>Ctrl键是终端用户常用的按键，但大多数触摸键盘都没有这个按键，因此 Termux 使用音量减小按钮来模拟Ctrl键。</p>
<p>例如，在触摸键盘上按音量减小+ L就相当于是键盘上按Ctrl + L的效果一样，达到清屏的效果。</p>
<pre><code>Ctrl + A -&gt; 将光标移动到行首

Ctrl + C -&gt; 中止当前进程

Ctrl + D -&gt; 注销终端会话

Ctrl + E -&gt; 将光标移动到行尾

Ctrl + K -&gt; 从光标删除到行尾

Ctrl + U -&gt; 从光标删除到行首

Ctrl + L -&gt; 清除终端

Ctrl + Z -&gt; 挂起（发送SIGTSTP到）当前进程

Ctrl + alt + C -&gt; 打开新会话（仅适用于 黑客键盘）
</code></pre>
<p>音量加键也可以作为产生特定输入的特殊键.</p>
<pre><code>音量加 + E -&gt; Esc键

音量加 + T -&gt; Tab键

音量加 + 1 -&gt; F1（音量增加 + 2 → F2…以此类推）

音量加 + 0 -&gt; F10

音量加 + B -&gt; Alt + B，使用readline时返回一个单词

音量加 + F -&gt; Alt + F，使用readline时转发一个单词

音量加 + X -&gt; Alt+X

音量加 + W -&gt; 向上箭头键

音量加 + A -&gt; 向左箭头键

音量加 + S -&gt; 向下箭头键

音量加 + D -&gt; 向右箭头键

音量加 + L -&gt; | （管道字符）

音量加 + H -&gt; 〜（波浪号字符）

音量加 + U -&gt; _ (下划线字符)

音量加 + P -&gt; 上一页

音量加 + N -&gt; 下一页

音量加 + . -&gt; Ctrl + \（SIGQUIT）

音量加 + V -&gt; 显示音量控制

音量加 + Q -&gt; 切换显示的功能键视

音量加 + K -&gt; 切换显示的功能键视图
</code></pre>
<p>快捷键用的熟悉的话也可以极大提高操作的效率。</p>
<p>基本命令</p>
<p>Termux 除了支持 apt 命令外，还在此基础上封装了pkg命令，pkg 命令向下兼容 apt 命令。apt命令大家应该都比较熟悉了，这里直接简单的介绍下pkg命令:</p>
<pre><code>pkg search &lt;query&gt;              # 搜索包

pkg install &lt;package&gt;           # 安装包

pkg uninstall &lt;package&gt;         # 卸载包

pkg reinstall &lt;package&gt;         # 重新安装包

pkg update                      # 更新源

pkg upgrade                     # 升级软件包

pkg list-all                    # 列出可供安装的所有包

pkg list-installed              # 列出已经安装的包

pkg show &lt;package&gt;              # 显示某个包的详细信息

pkg files &lt;package&gt;             # 显示某个包的相关文件夹路径
</code></pre>
<p>建议大家使用 pkg 命令，因为 pkg 命令每次安装的时候自动执行 apt update 命令，很是方便</p>
<p>软件安装</p>
<p>除了通过上述的 pkg 命令安装软件以外，如果我们有 .deb 软件包文件，也可以使用 dpkg 进行安装。</p>
<pre><code>dpkg -i ./package.de         # 安装 deb 包

dpkg --remove [package name] # 卸载软件包

dpkg -l                      # 查看已安装的包

man dpkg                     # 查看详细文档
</code></pre>
<p>目录结构</p>
<pre><code>echo $HOME

/data/data/com.termux/files/home

echo $PREFIX

/data/data/com.termux/files/usr

echo $TMPPREFIX

/data/data/com.termux/files/usr/tmp/zsh
</code></pre>
<p>长期使用 Linux 的朋友可能会发现，这个HOME路径看上去和我们电脑端的不太一样，这是为了方便 Termux 提供的特殊的环境变量。</p>
<h2 id="端口查看"><a href="#端口查看" class="headerlink" title="端口查看"></a>端口查看</h2><p>Android 10 以下版本</p>
<p>Andorid 10 以下的版本是可以正常使用netstat 命令的，这样可以方便的查看端口开放信息</p>
<h2 id="查看所有端口"><a href="#查看所有端口" class="headerlink" title="查看所有端口"></a>查看所有端口</h2><p>netstat -an</p>
<h2 id="查看3306端口的开放情况"><a href="#查看3306端口的开放情况" class="headerlink" title="查看3306端口的开放情况"></a>查看3306端口的开放情况</h2><p>netstat -an|grep 3306</p>
<p>Andorid 10 版本的Termux 下无法正常使用 netstat -an 命令，我的解决方法是安装一个 nmap，然后扫描本地端口（弯道超车）：</p>
<h2 id="安装nmap端口扫描神器"><a href="#安装nmap端口扫描神器" class="headerlink" title="安装nmap端口扫描神器"></a>安装nmap端口扫描神器</h2><p>pkg install nmap</p>
<h2 id="扫描本地端口"><a href="#扫描本地端口" class="headerlink" title="扫描本地端口"></a>扫描本地端口</h2><p>nmap 127.0.0.1</p>
<p>使用 nmap 操作 纯属无奈之举，但是又不是不能用（源于：罗永浩名言 :-)）</p>
<p>进阶配置</p>
<p>要想使用体验好，进阶配置少不了。</p>
<h2 id="更换国内源"><a href="#更换国内源" class="headerlink" title="更换国内源"></a>更换国内源</h2><p>使用pkg update 更新一下的时候发现默认的官方源网速有点慢，在这个喧嚣浮躁的时代，我们难以静下心等待，这个时候就得更换成国内的Termux清华大学源了，加快软件包下载速度。</p>
<h3 id="方法一：自动替换（推荐）"><a href="#方法一：自动替换（推荐）" class="headerlink" title="方法一：自动替换（推荐）"></a>方法一：自动替换（推荐）</h3><p>可以使用如下命令自动替换官方源为 TUNA 镜像源</p>
<p>pkg update 卡住的话多按几次回车 不要傻乎乎的等</p>
<pre><code>sed -i &#39;s@^\(deb.*stable main\)$@#\1\ndeb https://mirrors.tuna.tsinghua.edu.cn/termux/termux-packages-24 stable main@&#39; $PREFIX/etc/apt/sources.list

sed -i &#39;s@^\(deb.*games stable\)$@#\1\ndeb https://mirrors.tuna.tsinghua.edu.cn/termux/game-packages-24 games stable@&#39; $PREFIX/etc/apt/sources.list.d/game.list

sed -i &#39;s@^\(deb.*science stable\)$@#\1\ndeb https://mirrors.tuna.tsinghua.edu.cn/termux/science-packages-24 science stable@&#39; $PREFIX/etc/apt/sources.list.d/science.list

pkg update
</code></pre>
<p>更换源几秒钟就可以执行完pkg update了，心里顿时乐开了花。</p>
<h3 id="方法二：手动修改"><a href="#方法二：手动修改" class="headerlink" title="方法二：手动修改"></a>方法二：手动修改</h3><p>请使用内置或安装在 Termux 里的文本编辑器，例如 vi &#x2F; vim &#x2F; nano 等直接编辑源文件，不要使用 RE 管理器等其他具有 ROOT 权限的外部 APP 来修改 Termux 的文件</p>
<p>编辑 $PREFIX&#x2F;etc&#x2F;apt&#x2F;sources.list 修改为如下内容</p>
<pre><code> The termux repository mirror from TUNA:

deb https://mirrors.tuna.tsinghua.edu.cn/termux/termux-packages-24 stable main
</code></pre>
<p>编辑 $PREFIX&#x2F;etc&#x2F;apt&#x2F;sources.list.d&#x2F;science.list 修改为如下内容</p>
<pre><code>The termux repository mirror from TUNA:

deb https://mirrors.tuna.tsinghua.edu.cn/termux/science-packages-24 science stable
</code></pre>
<p>编辑 $PREFIX&#x2F;etc&#x2F;apt&#x2F;sources.list.d&#x2F;game.list 修改为如下内容</p>
<pre><code>The termux repository mirror from TUNA:

deb https://mirrors.tuna.tsinghua.edu.cn/termux/game-packages-24 games stable
</code></pre>
<p>安装基础工具</p>
<p>更换源之后来赶紧来下载安装一些基本工具吧，这些工具基本上是 Linux 系统自带的，因为 Termux 为了体积不过大，默认是没有带这些工具的，执行下面的命令来安装:</p>
<pre><code>pkg update

pkg install vim curl wget git tree -y
</code></pre>
<h2 id="终端配色方案"><a href="#终端配色方案" class="headerlink" title="终端配色方案"></a>终端配色方案</h2><p>脚本项目地址：<a target="_blank" rel="noopener" href="https://github.com/Cabbagec/termux-ohmyzsh/">https://github.com/Cabbagec/termux-ohmyzsh/</a></p>
<p>该脚本主要使用了zsh来替代bash作为默认 shell，并且支持色彩和字体样式，同时也激活了外置存储，可以直接访问SD卡下的目录。主题默认为 agnoster，颜色样式默认为 Tango，字体默认为 Ubuntu。</p>
<p>执行下面这个命令确保已经安装好了 curl 命令</p>
<pre><code>sh -c &quot;$(curl -fsSL https://github.com/Cabbagec/termux-ohmyzsh/raw/master/install.sh)&quot;  
</code></pre>
<p>如果因为不可抗力的原因，出现port 443: Connection refused网络超时的情况，那么执行下面我迁移到国内的地址的命令即可：</p>
<pre><code>sh -c &quot;$(curl -fsSL https://html.sqlsec.com/termux-install.sh)&quot;  
</code></pre>
<p>Android6.0 以上会弹框确认是否授权访问文件,点击始终允许授权后 Termux 可以方便的访问SD卡文件。</p>
<h3 id="手机-App-默认只能访问自己的数据，如果要访问手机的存储，需要请求权限，如果你刚刚不小心点了拒绝的话，那么可以执行以下命令来重新获取访问权限"><a href="#手机-App-默认只能访问自己的数据，如果要访问手机的存储，需要请求权限，如果你刚刚不小心点了拒绝的话，那么可以执行以下命令来重新获取访问权限" class="headerlink" title="手机 App 默认只能访问自己的数据，如果要访问手机的存储，需要请求权限，如果你刚刚不小心点了拒绝的话，那么可以执行以下命令来重新获取访问权限:"></a>手机 App 默认只能访问自己的数据，如果要访问手机的存储，需要请求权限，如果你刚刚不小心点了拒绝的话，那么可以执行以下命令来重新获取访问权限:</h3><pre><code>termux-setup-storage
</code></pre>
<p>脚本允许后先后有如下两个选项:</p>
<h4 id="Enter-a-number-leave-blank-to-not-to-change-14"><a href="#Enter-a-number-leave-blank-to-not-to-change-14" class="headerlink" title="Enter a number, leave blank to not to change: 14"></a>Enter a number, leave blank to not to change: 14</h4><h4 id="Enter-a-number-leave-blank-to-not-to-change-6"><a href="#Enter-a-number-leave-blank-to-not-to-change-6" class="headerlink" title="Enter a number, leave blank to not to change: 6"></a>Enter a number, leave blank to not to change: 6</h4><p>分别选择色彩样式和字体样式，重启Termux app后生效配置。不满意刚刚的效果，想要继续更改配色方案的话，可以根据下面命令来更改对应的色彩配色方案：</p>
<p>设置色彩样式：</p>
<p>输入chcolor命令更换色彩样式，或者：输入</p>
<pre><code>~/.termux/colors.sh
</code></pre>
<p>设置字体</p>
<p>运行chfont更换字体，或者：</p>
<pre><code>~/.termux/fonts.sh
</code></pre>
<p>创建目录软连接</p>
<p>执行过上面的一键配置脚本后，并且授予 Termux 文件访问权限的话，会在家目录生成storage目录，并且生成若干目录，软连接都指向外置存储卡的相应目录:</p>
<p>创建QQ文件夹软连接</p>
<p>手机上一般经常使用手机QQ来接收文件,这里为了方便文件传输,直接在storage目录下创建软链接.</p>
<p>QQ</p>
<pre><code>ln -s /data/data/com.termux/files/home/storage/shared/tencent/QQfile_recv QQ
</code></pre>
<p>TIM</p>
<pre><code>ln -s /data/data/com.termux/files/home/storage/shared/tencent/TIMfile_recv TIM
</code></pre>
<p>这样可以直接在home目录下去访问QQ文件夹，大大提升了工作效率。</p>
<h2 id="定制常用按键"><a href="#定制常用按键" class="headerlink" title="定制常用按键"></a>定制常用按键</h2><p>在 Termux v0.66 的版本之后我们可以通过</p>
<pre><code>~/.termux/termux.properties
</code></pre>
<p>文件来定制我们的常用功能按键，默认是不存在这个文件的，我们得自己配置创建一下这个文件。</p>
<p>下面做尝试简单配置一下这个文件:</p>
<h3 id="新建并编辑配置文件"><a href="#新建并编辑配置文件" class="headerlink" title="新建并编辑配置文件"></a>新建并编辑配置文件</h3><pre><code>vim ~/.termux/termux.properties
</code></pre>
<p>内容为：</p>
<pre><code>extra-keys = [ \
</code></pre>
<p> [‘ESC’,’|’,’&#x2F;‘,’HOME’,’UP’,’END’,’PGUP’,’DEL’], \</p>
<p> [‘TAB’,’CTRL’,’ALT’,’LEFT’,’DOWN’,’RIGHT’,’PGDN’,’BKSP’] \</p>
<p>]</p>
<p>如果无法创建这个文件，那么得首先新建一下这个目录:</p>
<pre><code>mkdir ~/.termux
</code></pre>
<p>修改完成保存文件后，重启 Termux app生效配置：</p>
<p>可以直接输入特殊的字符串，例如上面的例子中的|就是一个字符串，此外 Termux 还有封装了一些特殊按键，入上面例子中的ESC就是 Termux 自带的按键，完整的特殊按键表如下：</p>
<pre><code>按键  说明

CTR 特殊按键

ALT 特殊按键

FN  特殊按键

ESC 退出键

TAB 表格键

HOME 原位键

END 结尾键

PGUP 上翻页键

PGDN 下翻页键

INS 插入键

DEL 删除键

BKSP 退格键

UP  方向键 上

LEFT 方向键 左

RIGHT 方向键 右

DOWN 方向键 下

ENTER 回车键

BACKSLASH 反斜杠 \

QUOTE 双引号键

APOSTROPHE 单引号键

F1~F12 F1-F12按键
</code></pre>
<p>上面列出的三个特殊键中的每一个最多只能在附加键定义中列出一次，超过次数将会报错。</p>
<p>下面是我自用的按键表：</p>
<pre><code> extra-keys = [ \
</code></pre>
<p> [‘ESC’,’|’,’&#x2F;‘,’&#96;’,’UP’,’QUOTE’,’APOSTROPHE’], \</p>
<p> [‘TAB’,’CTRL’,’~’,’LEFT’,’DOWN’,’RIGHT’,’ENTER’] \</p>
<p>]</p>
<h2 id="zsh-主题配色"><a href="#zsh-主题配色" class="headerlink" title="zsh 主题配色"></a>zsh 主题配色</h2><p>编辑家目录下的.zshrc配置文件</p>
<p>   $ vim .zshrc</p>
<p>第一行可以看到,默认的主题是agnoster主题:</p>
<p>实际上这个主题也蛮酷的，如果你还想更换其他主题的话，那么在.oh-my-zsh&#x2F;themes目录下放着oh-my-zsh所有的主题配置文件，只要将默认的 agnoster 更换为其他的主题文件名即可。</p>
<p>下面是我认为还不错的几款主题</p>
<p>agnoster</p>
<p>ys</p>
<p>robbyrussell</p>
<p>主题比较多，这里就不列举了，感兴趣大家可以一个个尝试去看看。</p>
<p>当然如果你是个变态的话，可以尝试random 主题,每打开一个会话配色主题都是随机的.</p>
<pre><code>ZSH_THEME=&quot;random&quot;
</code></pre>
<h3 id="zsh-插件推荐"><a href="#zsh-插件推荐" class="headerlink" title="zsh 插件推荐"></a>zsh 插件推荐</h3><p>zsh 之所以受欢迎除了好看的配色以为，另一个原因就是强大的插件了。下面列举一款比较实用的插件的安装方法，更多强大的插件等待大家自己去探索。</p>
<h4 id="autosuggestions"><a href="#autosuggestions" class="headerlink" title="autosuggestions"></a>autosuggestions</h4><p>根据用户的平时使用习惯，终端会自动提示接下来可能要输入的命令，这个实际使用效率还是比较高的：</p>
<h4 id="拷贝到-plugins-目录下"><a href="#拷贝到-plugins-目录下" class="headerlink" title="拷贝到 plugins 目录下"></a>拷贝到 plugins 目录下</h4><pre><code>git clone git://github.com/zsh-users/zsh-autosuggestions $ZSH_CUSTOM/plugins/zsh-autosuggestions
</code></pre>
<p>在 ~&#x2F;.zshrc 中配置：</p>
<pre><code>Ini

plugins=(其他的插件 zsh-autosuggestions)
</code></pre>
<p>输入zsh命令生效配置:</p>
<p>命令就自动提示补全了,在 Termux 里面的快捷键是 音量加 + D，就可以直接补全命令了。</p>
<h2 id="修改启动问候语"><a href="#修改启动问候语" class="headerlink" title="修改启动问候语"></a>修改启动问候语</h2><p>这个默认启动问候语在前期对于初学者有一定的帮助，但是随着你们 Termux 的熟悉，这个默认的问候语就会显得比较臃肿。编辑问候语文件可以直接修改启动显示的问候语:</p>
<pre><code>vim $PREFIX/etc/motd
</code></pre>
<p>这样启动新的会话的时候看上去就会简洁很多。什么你也想要这个效果？ 呐 下面是我自己生成的，可以直接复制粘贴:</p>
<p>你可以直接复制这个：</p>
<pre><code>     _____                                

    |_   _|__ _ __ _ __ ___  _   ___  __

       | |/ _ \ &#39;__| &#39;_ ` _ \| | | \ \/ /

       | |  __/ |  | | | | | | |_| |&gt;  &lt;

       |_|\___|_|  |_| |_| |_|\__,_/_/\_\
</code></pre>
<h2 id="超级管理员身份"><a href="#超级管理员身份" class="headerlink" title="超级管理员身份"></a>超级管理员身份</h2><p>实际上 Termux 不需要 root 权限也可以折腾各种各样的操作的，大家不必对 root 抱有啥幻想，本文的操作基本上没有涉及到手机要用到 root 的地步。</p>
<h3 id="手机没有root"><a href="#手机没有root" class="headerlink" title="手机没有root"></a>手机没有root</h3><p>利用proot可以为手机没有root的用户来模拟一个root的环境，这里主要是经典的 Linux 文件系统布局上的模拟。</p>
<pre><code>pkg install proot -y
</code></pre>
<p>然后终端下面输入:</p>
<pre><code>termux-chroot
</code></pre>
<p>即可模拟root环境，该环境模仿 Termux 中的常规Linux文件系统，但是不是真正的 root。</p>
<p>输入exit可回到普通用户的文件系统。</p>
<h3 id="手机已经root"><a href="#手机已经root" class="headerlink" title="手机已经root"></a>手机已经root</h3><p>安装tsu，这是一个su的 Termux 版本，是一个真正的root权限，用来在termux上替代su，操作不慎可能对手机有安全风险。因为官方封装了，所以安装也很简单：</p>
<pre><code>pkg install tsu -y
</code></pre>
<p>然后终端下面输入:</p>
<pre><code>tsu
</code></pre>
<p>即可切换root用户，这个时候会弹出root授权提示，给予其root权限，效果图如下:</p>
<p>在管理员身份下，输入exit可回到普通用户身份。不过本文没有设计到 root 权限的操作，一些底层的工具可能才会需要，考虑到 root 的不安全性 和 那些工具的冷门性，我这里就没有继续拓展。</p>
<h2 id="开发环境"><a href="#开发环境" class="headerlink" title="开发环境"></a>开发环境</h2><p>Termux 支持的开发环境很强，可以完美的运行 C、Python、Java、PHP、Ruby等开发环境，建议读者朋友们选择自己需要的开发环境折腾。</p>
<p>编辑器</p>
<p>写代码前总得折腾一下编辑器，毕竟磨刀不误砍柴工嘛。Termux 支持多种编辑器，完全可以满足日常使用需求。</p>
<h3 id="Emacs"><a href="#Emacs" class="headerlink" title="Emacs"></a>Emacs</h3><p>据说Emacs是神的编辑器，可我这种小菜鸡还不会使用哎，但是 Termux 官方已经封装好了 Emacs了，我们安装起来就会简单很多:</p>
<pre><code> pkg install emacs  
</code></pre>
<h3 id="nano"><a href="#nano" class="headerlink" title="nano"></a>nano</h3><p>nano 是一个小而美的编辑器。具有如下：打开多个文件，每行滚动，撤消&#x2F;重做，语法着色，行编号等功能</p>
<p>同样安装起来也很简单：</p>
<pre><code>pkg install nano
</code></pre>
<h3 id="Vim"><a href="#Vim" class="headerlink" title="Vim"></a>Vim</h3><p>Vim 被称为编辑器之神，基本上 Linux 发行版都会自带 Vim，这个在前文基本工具已经安装了，如果你没有安装的话，可以使用如下命令安装：</p>
<pre><code>pkg install vim
</code></pre>
<p>并且官方也已经封装了vim-python，对Python相关的优化。</p>
<pre><code>pkg install vim-python
</code></pre>
<h3 id="解决汉字乱码"><a href="#解决汉字乱码" class="headerlink" title="解决汉字乱码"></a>解决汉字乱码</h3><p>如果你的Vim打开汉字出现乱码的话，那么在家目录(~)下,新建.vimrc文件</p>
<pre><code>vim .vimrc
</code></pre>
<p>添加内容如下:</p>
<pre><code>set fileencodings=utf-8,gb2312,gb18030,gbk,ucs-bom,cp936,latin1

set enc=utf8

set fencs=utf8,gbk,gb2312,gb18030
</code></pre>
<p>然后source下变量:</p>
<pre><code>source .vimrc
</code></pre>
<h3 id="Vim-配色"><a href="#Vim-配色" class="headerlink" title="Vim 配色"></a>Vim 配色</h3><p>Termux Vim 自带了如下的配色：</p>
<pre><code>ls /data/data/com.termux/files/usr/share/vim/vim82/colors

desert.vim  

morning.vim    

shine.vim    

blue.vim      

elflord.vim  

murphy.vim    

slate.vim    

darkblue.vim

evening.vim  

pablo.vim      

industry.vim  

peachpuff.vim  

torte.vim    

delek.vim    

koehler.vim  

ron.vim        

zellner.vim
</code></pre>
<p>配色可以自己一个个尝试一下，还是向上面的汉字乱码那样，编辑家目录下的.vimrc文件：</p>
<pre><code>vim ~/.vimrc
</code></pre>
<p>新增如下内容：</p>
<pre><code>set nu                &quot; 显示行号

colorscheme desert    &quot; 颜色主题

syntax on             &quot; 打开语法高亮
</code></pre>
<p>下面是我随便找的几个颜色主题效果，感兴趣的朋友可以自己一个个尝试：</p>
<p>&#x3D;&#x3D;&#x3D; slate &#x3D;&#x3D;&#x3D;</p>
<p>&#x3D;&#x3D;&#x3D; murphy&#x3D;&#x3D;&#x3D;</p>
<p>&#x3D;&#x3D;&#x3D; peachpuff &#x3D;&#x3D;&#x3D;</p>
<h2 id="Apache"><a href="#Apache" class="headerlink" title="Apache"></a>Apache</h2><p>Apache是一个开源网页服务器软件，由于其跨平台和安全性，被广泛使用，是最流行的Web服务器软件之一。</p>
<p>安装 Apache</p>
<pre><code>pkg install apache2
</code></pre>
<p>启动 Apache</p>
<pre><code>apachectl start
</code></pre>
<p>然后浏览器访问: <a target="_blank" rel="noopener" href="http://127.0.0.1:8080/">http://127.0.0.1:8080</a> 访问是否成功启动：</p>
<p>Termux 自带的 Apache 的网站默认路径为：</p>
<pre><code>$PREFIX/share/apache2/default-site/htdocs/index.html
</code></pre>
<p>停止 Apache</p>
<pre><code>apachectl stop
</code></pre>
<p>重启 Apache</p>
<pre><code>apachectl restart
</code></pre>
<h2 id="Apache-解析-PHP"><a href="#Apache-解析-PHP" class="headerlink" title="Apache 解析 PHP"></a>Apache 解析 PHP</h2><p>既然Apache、PHP、MySQL都成功安装的话，那么现在只要配置好 Apache 解析 PHP 之后就可以打造一个 Android 平台上的 LAMPP平台了。</p>
<h2 id="安装-php-apache"><a href="#安装-php-apache" class="headerlink" title="安装 php-apache"></a>安装 php-apache</h2><p>默认的 Apache 是无法解析 PHP的，我们需要安装相应的包：</p>
<pre><code>pkg install php-apache
</code></pre>
<h3 id="配置-Apache"><a href="#配置-Apache" class="headerlink" title="配置 Apache"></a>配置 Apache</h3><p>Termux 上的 Apache 默认配置文件的路径为:</p>
<pre><code>$PREFIX/etc/apache2/httpd.conf
</code></pre>
<p>直接编辑配置文件:</p>
<pre><code>vim /data/data/com.termux/files/usr/etc/apache2/httpd.conf
</code></pre>
<p>配置文件里面搜索 PHP 没有相关的模块，所以需要我们手动添加 PHP7 的模块:</p>
<pre><code>LoadModule php7_module /data/data/com.termux/files/usr/libexec/apache2/libphp7.so
</code></pre>
<p>并在刚刚这个语句下方添加解析器，内容如下:</p>
<pre><code>&lt;FilesMatch \.php$&gt;

  SetHandler application/x-httpd-php

&lt;/FilesMatch&gt;
</code></pre>
<p>接着继续往下找配置文件里面配置默认首页的地方，我们添加 index.php 到默认首页的规则里面:</p>
<pre><code>&lt;IfModule dir_module&gt;

  DirectoryIndex index.php index.html

&lt;/IfModule&gt;
</code></pre>
<p>这表示网站目录的默认首页是 index.php，如果没有 index.php 系统会自动寻找 index.html做为默认首页了。</p>
<p>修改完 Apache 的配置文件后，记得使用 apachectl restart 重启 Apache 服务，然后这个时候回发现我们重启居然报错了：</p>
<pre><code>Apache is running a threaded MPM, but your PHP Module is not compiled to be threadsafe.  You need to recompile PHP.

AH00013: Pre-configuration failed
</code></pre>
<p>不要慌问题不大，下面来解决这个问题</p>
<p>解决 Apache PHP 报错</p>
<p>先找到如下行</p>
<pre><code>LoadModule mpm_worker_module libexec/apache2/mod_mpm_worker.so
</code></pre>
<p>给他注释掉为:</p>
<pre><code>#LoadModule mpm_worker_module libexec/apache2/mod_mpm_worker.so
</code></pre>
<p>然后找到如下行:</p>
<pre><code>#LoadModule mpm_prefork_module libexec/apache2/mod_mpm_prefork.so
</code></pre>
<p>取消注释为:</p>
<pre><code>LoadModule mpm_prefork_module libexec/apache2/mod_mpm_prefork.so
</code></pre>
<p>就OK了</p>
<h2 id="解析-PHP-测试"><a href="#解析-PHP-测试" class="headerlink" title="解析 PHP 测试"></a>解析 PHP 测试</h2><p>在 Apache 的网站根目录下，创建一个 index.php ，测试一下 phpinfo() 函数能否正常运行:</p>
<pre><code>echo &#39;&lt;?php phpinfo(); ?&gt;&#39; &gt; $PREFIX/share/apache2/default-site/htdocs/index.php
</code></pre>
<p>然后浏览访问: <a target="_blank" rel="noopener" href="http://127.0.0.1:8080/">http://127.0.0.1:8080</a> 查看效果</p>
<h2 id="C"><a href="#C" class="headerlink" title="C"></a>C</h2><p>Termux 官方封装了 Clang，他是一个C、C++、Objective-C和Objective-C++编程语言的编译器前端。</p>
<h3 id="安装-clang"><a href="#安装-clang" class="headerlink" title="安装 clang"></a>安装 clang</h3><pre><code>pkg install clang
</code></pre>
<p>编译测试</p>
<p>clang 在编译这一块很强大，感兴趣的朋友可以去网上查看详细的教程，这里只演示基本的 Hello World使用。写一个Hello World的C程序，如下 hello.c:</p>
<pre><code>#include &lt;stdio.h&gt;

int main()&#123;

  printf(&quot;Hello World&quot;)

  return 0;

&#125;
</code></pre>
<p>编辑完成后，使用 clang 来编译生成 hello 的可执行文件：</p>
<pre><code>clang hello.c -o hello
</code></pre>
<h2 id="Java"><a href="#Java" class="headerlink" title="Java"></a>Java</h2><p>Termux 原生编译JAVA只能使用 ecj (Eclipse Compiler for Java) 和 dx 了，然后使用 Android 自带的 dalvikvm 运行。如果想要完整体验JAVA环境的话，另一个方法就是 Termux 里面安装一个完整的 Linux 系统，然后在 Linux里面运行Java，安装系统部分下面文章会详细介绍，这一节我只介绍最基本的操作。</p>
<p>安装编译工具</p>
<pre><code>pkg install ecj dx -y
</code></pre>
<p>这里只演示基本的 Hello World 使用。写一个Hello World的 JAVA 程序，如下 HelloWorld.java:</p>
<pre><code>public class HelloWorld &#123;

    public static void main(String[] args)&#123;

        System.out.println(&quot;Hello Termux&quot;);

    &#125;

&#125;
</code></pre>
<p>编译生成 class 文件</p>
<pre><code>ecj HelloWorld.java
</code></pre>
<p>编译生成 dex 文件</p>
<pre><code>dx --dex --output=hello.dex HelloWorld.class
</code></pre>
<p>使用 dalvikvm 运行</p>
<p>格式规范如下：</p>
<pre><code>dalvikvm -cp dex文件名 类名

dalvikvm -cp hello.dex HelloWorld
</code></pre>
<h2 id="MariaDB-MySQL"><a href="#MariaDB-MySQL" class="headerlink" title="MariaDB(MySQL)"></a>MariaDB(MySQL)</h2><p>MariaDB 是 MySQL 关系数据库管理系统的一个复刻，由社区开发，有商业支持，旨在继续保持在GNU GPL下开源。开发这个分支的原因之一是：甲骨文公司收购了 MySQL 后，有将 MySQL 闭源的潜在风险，因此社区采用分支的方式来避开这个风险。</p>
<p>安装 MariaDB</p>
<p>Termux 官方也封装了MariaDB，所以安全起来很方便：</p>
<pre><code>pkg install mariadb
</code></pre>
<p>这里基本上会安装很顺利，但是早期用户可能出现安装失败的情况，如果安装失败的话，这个时候手动在配置目录下创建my.cnf.d文件夹即可：</p>
<pre><code>$ cd /data/data/com.termux/files/usr/etc/

$ mkdir my.cnf.d
</code></pre>
<p>初始化数据库</p>
<p>早期的 Termux 安装完 MySQL是需要初始化数据库的，新版本在安装时候就已经初始化了数据库</p>
<pre><code>mysql_install_db
</code></pre>
<p>2020年4月19日：今天安装的MySQL 发现已经存在 mysql.user 表了，无需初始化：</p>
<p>启动 MySQL 服务</p>
<p>因为正常启动完成后，MySQL这个会话就一直存活，类似与debug调试一样，此时使用Ctrl + C -&gt; 中止当前进程也无济于事，体验式就一点都不优雅，所以这里使用Linux自带的nohup命令将其放到后台启动。</p>
<pre><code>nohup mysqld &amp;
</code></pre>
<p>图片上这个17115此时就是mysqld的进程PID号，我们使用如下命令验证一下是否正确：</p>
<pre><code>ps aux|grep mysql
</code></pre>
<p>可以看到果然是进程的PID号</p>
<p>至于 nohup 运行的提示</p>
<pre><code>nohup: ignoring input and appending output to `nohup.out&#39;
</code></pre>
<p>这个是正常现象，无伤大雅，Termux 下就这样将就着用吧。</p>
<p>停止 MySQL 服务</p>
<p>Termux 下没有好的办法退出 MySQL 服务，只能强制杀掉进程了，使用如下命令格式可以轻松杀掉进程：</p>
<pre><code>kill -9 PID
</code></pre>
<p>成功kill掉</p>
<p>当然每次查看进程的PID号，再杀掉进程有点繁琐了，实际上这一步可以直接这样操作：</p>
<pre><code>kill -9 `pgrep mysql`
</code></pre>
<p>Awesome ! 优雅!</p>
<h2 id="默认的两个用户"><a href="#默认的两个用户" class="headerlink" title="默认的两个用户"></a>默认的两个用户</h2><p>用户登录的前提是MySQL服务在后台运行，如果你按照上一小节操作把MySQL kill掉的话，请重新启动一下MySQL服务</p>
<p>新版本的 Termux 安装初始化数据库的时候包含两个高权限用户，一个是无法访问的 root 用户</p>
<p>提示拒绝root登录</p>
<p>另一个用户就是 Termux 的用户名，默认密码为空，我们来登录看看：</p>
<pre><code>mysql -u $(whoami)
</code></pre>
<p>可以成功登录 并执行SQL语句</p>
<p>那么这个无法登录的 root 用户该怎么办呢 ？不要着急 继续往下看</p>
<p>修改 root 密码</p>
<p>老版本的 Termux 的直接使用mysql_secure_installation可以设置密码，但是新版本的安全策略变更了 我们在设置密码的时候回提示当前密码不正确，所以这条路行不通了。</p>
<p>这里我们只能使用MySQL的另一个用户名，即 Termux 用户名登录，然后来修改 root 的密码，使用如下命令修改 root 密码:</p>
<pre><code># 登录 Termux 用户

mysql -u $(whoami)

# 修改 root 密码的 SQL语句

 use mysql;

set password for &#39;root&#39;@&#39;localhost&#39; = password(&#39;你设置的密码&#39;);

# 刷新权限 并退出

flush privileges;

quit;
</code></pre>
<p>OK！那么修改 root 密码就成功了。</p>
<h2 id="root-用户登录"><a href="#root-用户登录" class="headerlink" title="root 用户登录"></a>root 用户登录</h2><p>修改完密码之后我们就可以美滋滋地使用 root 用户来登录了：</p>
<pre><code>mysql -u root -p

Enter password: xxxxx（这里输入你的密码)
</code></pre>
<h3 id="远程登录-MySQL"><a href="#远程登录-MySQL" class="headerlink" title="远程登录 MySQL"></a>远程登录 MySQL</h3><p>使用 ip a 后查看 IP 地址后，尝试电脑端远程访问 Termux 的数据库:</p>
<p>发现默认是无法成功连接的，这个时候我们需要到数据库手动开启 root 用户的远程访问权限:</p>
<p>这里的 P@ssw0rd 是我的 root 密码</p>
<pre><code>grant all on *.* to root@&#39;%&#39; identified by &#39;P@ssw0rd&#39; with grant option;

flush privileges;
</code></pre>
<p>执行完成后 尝试PC端远程过去看看:</p>
<h2 id="Nginx"><a href="#Nginx" class="headerlink" title="Nginx"></a>Nginx</h2><p>Nginx 是一个高性能的 Web 和反向代理服务器，Nginx 用的熟悉的话，下面搭建各种网站也就轻而易举了。</p>
<h3 id="安装-Nginx"><a href="#安装-Nginx" class="headerlink" title="安装 Nginx"></a>安装 Nginx</h3><p>Termux 安装 Nginx 也很简单，一条命令即可：</p>
<pre><code>pkg install nginx
</code></pre>
<p>安装完成后，我的习惯是查看一下版本信息：</p>
<h4 id="1-17-10-版本"><a href="#1-17-10-版本" class="headerlink" title="1.17.10 版本"></a>1.17.10 版本</h4><h3 id="测试-Nginx"><a href="#测试-Nginx" class="headerlink" title="测试 Nginx"></a>测试 Nginx</h3><p>测试检查 Nginx 的配置文件是否正常:</p>
<pre><code>nginx -t
</code></pre>
<p>现在测试肯定是OK的，这个多用于我们修改完 Nginx 的配置文件后的检查。</p>
<h3 id="启动-Nginx"><a href="#启动-Nginx" class="headerlink" title="启动 Nginx"></a>启动 Nginx</h3><p>早期版本的 Termux 需要在termux-chroot 环境下才可以成功启动 Nginx ，新版本的 Termux 可以直接启动，很是方便：</p>
<pre><code>nginx
</code></pre>
<p>Termux 在 Nginx 上默认运行的端口号是 8080， 使用pgrep命令也可以查看 Nginx 进程相关的PID号。</p>
<p>然后手机本地直接访问<a target="_blank" rel="noopener" href="http://127.0.0.1:8080/">http://127.0.0.1:8080</a> 查看 Nginx 是否正常启动：</p>
<h3 id="重启-Nginx"><a href="#重启-Nginx" class="headerlink" title="重启 Nginx"></a>重启 Nginx</h3><p>一般当修改完 Nginx 相关的配置文件时，我们需要重启 Nginx，使用如下命令即可重启:</p>
<pre><code>nginx -s reload
</code></pre>
<h3 id="停止-Nginx"><a href="#停止-Nginx" class="headerlink" title="停止 Nginx"></a>停止 Nginx</h3><p>方法一 原生停止</p>
<pre><code>nginx -s stop
</code></pre>
<p>或者</p>
<pre><code>nginx -s quit
</code></pre>
<p>quit 是一个优雅的关闭方式，Nginx在退出前完成已经接受的连接请求。Stop 是快速关闭，不管有没有正在处理的请求。</p>
<p>方法二 杀掉进程</p>
<p>只需三番钟，里造会干我一样，爱象节款游戏  扯远了，只需要1条命令，即可优雅的终止掉 Nginx 服务:</p>
<pre><code>kill -9 `pgrep nginx`
</code></pre>
<p>貌似手机党 并不好敲 这个 &#96; 符号 &#x3D;，&#x3D; ，如果实在敲不出来，那就分两步走吧：</p>
<h3 id="查询-nginx-进程相关的-PID-号"><a href="#查询-nginx-进程相关的-PID-号" class="headerlink" title="查询 nginx 进程相关的 PID 号"></a>查询 nginx 进程相关的 PID 号</h3><pre><code>pgrep nginx
</code></pre>
<h3 id="杀掉-查询出的-PID号进程"><a href="#杀掉-查询出的-PID号进程" class="headerlink" title="杀掉 查询出的 PID号进程"></a>杀掉 查询出的 PID号进程</h3><pre><code>kill -9 PID
</code></pre>
<h3 id="Nginx-解析-PHP"><a href="#Nginx-解析-PHP" class="headerlink" title="Nginx 解析 PHP"></a>Nginx 解析 PHP</h3><p>Termux 下的 Nginx 解析 PHP 这里单独拿出一级标题来叙述，成功解析的话,下面安装 wordpress等 PHP网站就会轻松很多。</p>
<p>安装 php-fpm</p>
<p>Nginx 本身不能处理 PHP，它只是个 Web 服务器，当接收到 PHP 请求后发给 PHP 解释器处理。Nginx 一般是把请求转发给 fastcgi 管理进程处理，PHP-FPM 是一个PHP FastCGI管理器，所以这里得先安装它：</p>
<pre><code>pkg install php-fpm
</code></pre>
<p>安装完成顺便检查一下版本信息吧</p>
<h3 id="配置-php-fpm"><a href="#配置-php-fpm" class="headerlink" title="配置 php-fpm"></a>配置 php-fpm</h3><p>编辑 php-fpm 的配置文件 <a target="_blank" rel="noopener" href="http://www.conf/">www.conf</a>:</p>
<pre><code>vim $PREFIX/etc/php-fpm.d/www.conf
</code></pre>
<p>定位搜索 listen &#x3D; 找到</p>
<pre><code>listen = /data/data/com.termux/files/usr/var/run/php-fpm.sock
</code></pre>
<p>将其改为：</p>
<pre><code>listen = 127.0.0.1:9000
</code></pre>
<p>？？？啥 你不会使用 vim 搜索 ㄟ(▔,▔)ㄏ 那就老老实实一个个翻页吧。</p>
<h3 id="配置-Nginx"><a href="#配置-Nginx" class="headerlink" title="配置 Nginx"></a>配置 Nginx</h3><p>编辑 Nginx 的配置文件 nginx.conf:</p>
<pre><code>vim $PREFIX/etc/nginx/nginx.conf
</code></pre>
<p>下面是我贴出配置好的完整配置文件，大家可以参考下面这些图，只需要2大步骤：</p>
<pre><code>添加 index.php 到默认首页的规则里面

取消 location ~ \.php$ 这些注释，按照图片上的 提示修改：

Termux 里面的 Nginx 默认网站的根目为：

/data/data/com.termux/files/usr/share/nginx/html

如果想要修改默认路径的话 只需要在配置文件中 替换2处出现的这个路径即可
</code></pre>
<p>下面贴一份完整的配置文件：</p>
<pre><code>Nginx

worker_processes  1;

events &#123;

    worker_connections  1024;

&#125;

http &#123;

    include       mime.types;

    default_type  application/octet-stream;

    sendfile        on;

    keepalive_timeout  65;

    server &#123;

        listen       8080;

        server_name  localhost;

        location / &#123;

            root   /data/data/com.termux/files/usr/share/nginx/html;

            index  index.html index.htm index.php;

        &#125;

        error_page   500 502 503 504  /50x.html;

        location = /50x.html &#123;

            root   /data/data/com.termux/files/usr/share/nginx/html;

        &#125;

        location ~ \.php$ &#123;

            root           html;

            fastcgi_pass   127.0.0.1:9000;

            fastcgi_index  index.php;

            fastcgi_param  SCRIPT_FILENAME  /data/data/com.termux/files/usr/share/nginx/html$fastcgi_script_name;

            include        fastcgi_params;

        &#125;

    &#125;

&#125;
</code></pre>
<h3 id="测试-PHP-解析"><a href="#测试-PHP-解析" class="headerlink" title="测试 PHP 解析"></a>测试 PHP 解析</h3><p>Nginx 默认网站的根目录为：</p>
<pre><code>/data/data/com.termux/files/usr/share/nginx/html
</code></pre>
<p>在这个网站根目录下新建 info.php 内容为：</p>
<pre><code>&lt;?php phpinfo(); ?&gt;

echo &#39;&lt;?php phpinfo(); ?&gt;&#39; &gt; $PREFIX/share/nginx/html/info.php
</code></pre>
<h3 id="启动服务"><a href="#启动服务" class="headerlink" title="启动服务"></a>启动服务</h3><p>先启动 php-fpm 服务：</p>
<pre><code>php-fpm
</code></pre>
<p>然后再启动 Nginx 服务</p>
<pre><code>nginx
</code></pre>
<p>如果你的 Nginx 已经启动了的话，使用</p>
<pre><code>nginx -s reload 重启 Nginx
</code></pre>
<p>访问测试</p>
<p>浏览器访问<a target="_blank" rel="noopener" href="http://127.0.0.1:8080/info.php">http://127.0.0.1:8080/info.php</a> 来看看刚刚新建的测试文件是否解析了：</p>
<p>哇哦~ok</p>
<h2 id="Nodejs"><a href="#Nodejs" class="headerlink" title="Nodejs"></a>Nodejs</h2><p>Node.js 是能够在服务器端运行 JavaScript 的开放源代码、跨平台 JavaScript 运行环境。</p>
<h3 id="安装-Nodejs"><a href="#安装-Nodejs" class="headerlink" title="安装 Nodejs"></a>安装 Nodejs</h3><p>nodejs-lts 是长期支持版本，如果执行 pkg install nodejs 版本后，发现 npm 报如下错误:</p>
<pre><code>segmentation fault
</code></pre>
<p>那么这个时候可以尝试卸载当前版本</p>
<pre><code>pkg uninstall nodejs
</code></pre>
<p>然后执行下面命令安装长期稳定版本:</p>
<pre><code>pkg install nodejs-lts
</code></pre>
<p>安装完成后使用如下命令查看版本信息：</p>
<pre><code>node -V

npm -V
</code></pre>
<h2 id="Hello-World"><a href="#Hello-World" class="headerlink" title="Hello World"></a>Hello World</h2><p>新建一个 hello.js 脚本，内容如下:</p>
<pre><code>console.log(&#39;Hello Termux&#39;);
</code></pre>
<p>然后尝试运行:</p>
<pre><code>$ node hello.js

Hello Termux
</code></pre>
<h2 id="http-server"><a href="#http-server" class="headerlink" title="http-server"></a>http-server</h2><p>http-server 是一个基于 Node.js 的简单零配置命令行HTTP服务器。</p>
<pre><code># 安装 http-server

npm install -g http-server

# 运行 http-server

http-server
</code></pre>
<p>尝试电脑端浏览器直接访问看看:</p>
<p>OK</p>
<h3 id="安装报错"><a href="#安装报错" class="headerlink" title="安装报错"></a>安装报错</h3><p>早期版本的 Termux 的 npm 安装一些包的时候会报如下错误：</p>
<pre><code>Cannot read property &#39;length&#39; of undefined
</code></pre>
<p>查了下是这边版本的问题</p>
<p>新版本貌似npm正常</p>
<p>这是一个BUG，官方的解决方法如下：</p>
<pre><code>disable concurrency in case of libuv/libuv#1459
</code></pre>
<p>编辑如下文件：</p>
<pre><code>vim $PREFIX/lib/node_modules/npm/node_modules/worker-farm/lib/farm.js
</code></pre>
<p>我这里修改length的是4，这个好像和CPU有关，总之这里的 length 得指定一个数字。</p>
<p>新版本貌似npm正常</p>
<p>然后在重新安装下</p>
<pre><code>npm install hexo-cli -g
</code></pre>
<p>成功。</p>
<h2 id="PHP"><a href="#PHP" class="headerlink" title="PHP"></a>PHP</h2><p>PHP 是一种开源的脚本语言，适用于网络开发。语法借鉴吸收C语言、Java 和 Perl 等流行计算机语言的特点，易于学习，PHP 是世界上最好的语言（手动狗头）。</p>
<h3 id="安装PHP"><a href="#安装PHP" class="headerlink" title="安装PHP"></a>安装PHP</h3><p>Termux 官方封装了 PHP，所以我们安装起来就很方便：</p>
<pre><code>pkg install php
</code></pre>
<p>安装完成后查看下版本信息：</p>
<pre><code>php --version
</code></pre>
<p>运行测试文件</p>
<p>自 PHP5.4 之后 PHP内置了一个 Web 服务器。在 Termux 下可以很方便地测试 PHP 文件</p>
<p>首先在家(~)目录下建一个www 文件夹，然后在www文件夹下新建一个index.php文件，内容为：</p>
<pre><code>&lt;?php phpinfo();?&gt;
</code></pre>
<p>完整的步骤如下:</p>
<pre><code># 新建 www 文件夹

mkdir ~/www

# 创建 inedx.php 文件

echo &#39;&lt;?php phpinfo();?&gt;&#39; &gt; ~/www/index.php
</code></pre>
<p>编写完成index.php文件后，尝试使用 PHP 内置的 WebServer 直接启动:</p>
<pre><code># 进入家目录

cd ~

# 启动 WebServer

php -S 0.0.0.0:8888 -t www/
</code></pre>
<p>自己制定端口后，浏览器访问<a href="http://127.0.0.1:8888效果如下：">http://127.0.0.1:8888效果如下：</a></p>
<h2 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h2><p>Python是近几年非常流行的语言，Python 相关的书籍和资料也如雨后春笋一般不断涌现，带来了活跃了 Python 学习氛围。</p>
<h3 id="安装python2"><a href="#安装python2" class="headerlink" title="安装python2"></a>安装python2</h3><p>Python2 版本要淘汰了，大家简单了解一下就好：</p>
<pre><code>pkg install python2 -y
</code></pre>
<p>安装完成后，使用python2命令启动 Python2.7 的环境</p>
<h3 id="安装python3"><a href="#安装python3" class="headerlink" title="安装python3"></a>安装python3</h3><p>Termux 安装 Python 默认版本是 Python3 的版本，与此同时也顺便安装了clang</p>
<pre><code>pkg install python -y
</code></pre>
<p>安装完成后，查看下clang和Python的版本</p>
<p>注意版本区分</p>
<p>如果你同时安装了 Python3 和 Python2 版本的话，最好验证一下各个版本情况，做到心知肚明，我是先安装 Python3 然后再安装 Python2的</p>
<p>升级pip版本</p>
<p>pip 保持最新是一个好习惯，升级方式很简单：</p>
<pre><code># 升级 pip2

python2 -m pip install --upgrade pip -i https://pypi.tuna.tsinghua.edu.cn/simple some-package
</code></pre>
<h3 id="升级-pip3"><a href="#升级-pip3" class="headerlink" title="升级 pip3"></a>升级 pip3</h3><pre><code>python -m pip install --upgrade pip -i https://pypi.tuna.tsinghua.edu.cn/simple some-package
</code></pre>
<p>这两条命令分别升级了pip2和pip3到最新版。升级完成后你会惊讶的发现你的pip3命令不见了？？？然后这个时候就开始吐槽我了（内心OS：我 非要强迫症升级 pip 版本，这下好了吧！）</p>
<p>不要慌 问题不大，我们可以手动查看当前有哪些可执行的 pip 文件，使用如下命令：</p>
<pre><code>ls /data/data/com.termux/files/usr/bin|grep pip
</code></pre>
<p>原来我们的pip3变成了pip3.8了啊</p>
<p>接下来分别查看对应 pip 可执行文件的版本</p>
<p>现在全都是最新版的 pip 了哦</p>
<h2 id="iPython"><a href="#iPython" class="headerlink" title="iPython"></a>iPython</h2><p>iPython是一个 Python 的增强版本的交互式 shell，支持变量自动补全，自动缩进，支持shell命令等，内置了许多很有用的功能和函数。iPython 可以提高我们的学习效率！</p>
<p>先安装clang,否则直接使用pip安装ipython会失败报错. 没有安装的话使用 pkg install clang安装</p>
<pre><code># -i 手动指定国内清华 pip 源 提高下载速度

pip install ipython -i https://pypi.tuna.tsinghua.edu.cn/simple some-package

pip3.8 install ipython -i https://pypi.tuna.tsinghua.edu.cn/simple some-package
</code></pre>
<p>执行完上述命令分别安装好对应版本的iPython后，然后分别查看对应版本信息：</p>
<pre><code>ipython2 -V

ipython -V
</code></pre>
<h2 id="Jupyter-Notebook"><a href="#Jupyter-Notebook" class="headerlink" title="Jupyter Notebook"></a>Jupyter Notebook</h2><p>Jupyter Notebook（此前被称为 iPython notebook）可以在 Web 端提供Python交互，虽然和iPython共享同一个内核，但是更强大。</p>
<p>Jupyter notebook 相关的依赖比较多 安装起来较为耗时 我就只用 Python3 版本来演示了，另外请务必要使用国内的 pip 源来安装</p>
<p>下面官方建议安装的完整的命令：</p>
<pre><code>pkg update

pkg install proot

termux-chroot

apt install git clang

apt install pkg-config

apt install python python3-dev

apt install libclang libclang-dev

apt install libzmq libzmq-dev

apt install ipython

pip install jupyter
</code></pre>
<p>如果你一步步跟着本文安装顺序操作的话，发现很多工具我们都安装过了(我真的有先见之明…)，那么直接参考如下命令安装即可:</p>
<pre><code># -i 手动指定国内中清华 pip 源 提高下载速度

# 更新是个好习惯

pkg update

# 切换模拟的 root 环境

termux-chroot

# 安装相关依赖

pkg install libclang

# 安装 jupyter

pip3 install jupyter -i https://pypi.tuna.tsinghua.edu.cn/simple some-package

# 安装完成退出 chroot

exit

# 安装 jupyterlab

pip3 install jupyterlab -i https://pypi.tuna.tsinghua.edu.cn/simple some-package
</code></pre>
<p>安装好之后查看一下版本信息：</p>
<pre><code>jupyter --version
</code></pre>
<p>所有插件均安装完成</p>
<p>Jupyter Notebook就安装好了，这个比较强大更详细的教程大家可以自行去谷歌或者百度一下，我这里只演示基本的功能。</p>
<p>先启动 notebook</p>
<pre><code>jupyter notebook
</code></pre>
<p>然后会看到运行的日志，我们复制出提示的URL</p>
<p>复制出的这个URL地址 在浏览器中打开</p>
<p>就成功运行了，那我们按照提示走个形式，输出个 Hello World就跑路：</p>
<p>OK 运行成功，那么回到 Termux 里面使用组合键 Ctrl + C -&gt; 中止当前的 Jupyter 进程</p>
<h1 id="网站搭建"><a href="#网站搭建" class="headerlink" title="网站搭建"></a>网站搭建</h1><p>网站搭建这一块实际上原理是大同小异的，我这里只写几个网站的安装方法，给大家提供一个思路。</p>
<h2 id="DVWA"><a href="#DVWA" class="headerlink" title="DVWA"></a>DVWA</h2><p>DVWA 是一个用来搞 Web 安全从业者入门使用的一个练习靶场，用来学习掌握基本的漏洞原理使用的，如果你对 Web 安全不感兴趣的话可以直接跳过这一个小节。</p>
<p>这里建议 DVWA 练习的时候 要结合源码去分析漏洞 不要直接把网上攻击流程走一步就草草了之了 不看源码的学习 等于啥都没有学</p>
<p>环境准备</p>
<p>因为 DVWA 靶场是 PHP编写的，所以你需要 提前配置好 Nginx 、PHP 以及 数据库，关于这方面配置可以参考前面开发环境下分类的「Nginx」、「MariaDB(MySQL)」和 「Nginx 解析 PHP」章节</p>
<p>下载 DVWA</p>
<pre><code>wget https://github.com/ethicalhack3r/DVWA/archive/master.zip
</code></pre>
<p>如果访问 Github 比较慢的话，可以尝试如下链接:</p>
<pre><code>wget https://hub.fastgit.org/ethicalhack3r/DVWA/archive/master.zip
</code></pre>
<p>解压到 Nginx 目录下</p>
<pre><code># 解压

unzip master.zip -d $PREFIX/share/nginx/html/

# 重命名

cd $PREFIX/share/nginx/html/

mv DVWA-master dvwa
</code></pre>
<h3 id="新建数据库"><a href="#新建数据库" class="headerlink" title="新建数据库"></a>新建数据库</h3><pre><code>mysql -uroot -p*** -e&quot;create database dvwa;show databases;&quot;

*** 这里是mysql的密码
</code></pre>
<p>可以看到 dvwa 数据库已经新建成功了。</p>
<h3 id="编辑-DVWA-配置文件"><a href="#编辑-DVWA-配置文件" class="headerlink" title="编辑 DVWA 配置文件"></a>编辑 DVWA 配置文件</h3><pre><code># 将配置文件 还原为 PHP 后缀

cd $PREFIX/share/nginx/html/dvwa/config

mv config.inc.php.dist config.inc.php

# 编辑配置文件

vim mv config.inc.php.dist config.inc.php
</code></pre>
<p>初次访问测试网站</p>
<p>按照上述配置好 DVWA 之后，浏览器访问: <a target="_blank" rel="noopener" href="http://192.168.31.124:8080/dvwa/setup.php">http://192.168.31.124:8080/dvwa/setup.php</a></p>
<p>可以看到 allow_url_include 运行 URL 远程包含没有开启，我们得手动开启一下:</p>
<p>实际上正常人是不会去开启这个的，十分危险，但是 DVWA 是一个靶场，有些漏洞实际上就是利用 PHP 配置不当造成的，这样才让新手有攻击下来的信心。</p>
<h3 id="配置-php-ini"><a href="#配置-php-ini" class="headerlink" title="配置 php.ini"></a>配置 php.ini</h3><p>Termux 下默认是没有 php.ini 文件的，不信我们手动来查找一下:</p>
<pre><code>php --ini

Configuration File (php.ini) Path: /data/data/com.termux/files/usr/lib

Loaded Configuration File:         (none)

Scan for additional .ini files in: (none)

Additional .ini files parsed:      (none)
</code></pre>
<p>发现 php.ini 的文件应该存放在:</p>
<pre><code>/data/data/com.termux/files/usr/lib 目录下，但是 PHP 没有找到配置文件，所以需要我们手动在这个目录下新建 php.ini 配置文件:

echo &#39;allow_url_include = On&#39; &gt; $PREFIX/lib/php.ini
</code></pre>
<p>注意这是一个不安全的配置 只是为了配合本地的 DVWA 靶场 做模拟黑客攻击练习使用的</p>
<p>配置完成后，自己尝试使用php –ini来定位搜索配置文件，会发现 PHP 已经找到了配置文件了。</p>
<p>修改完配置文件后 得重启 php-fpm 服务:</p>
<pre><code># 杀掉 php-fpm 相关的进程

kill -9 `pgrep fpm`

# 再次启动 php-fpm

php-fpm
</code></pre>
<p>再次访问测试网站:</p>
<p>浏览器访问: <a target="_blank" rel="noopener" href="http://192.168.31.124:8080/dvwa/setup.php">http://192.168.31.124:8080/dvwa/setup.php</a></p>
<p>可以看到刚刚的配置文件生效了，现在安全检查全部通过</p>
<p>既然 安全检查通过的话，那么就直接页面滚动到最下面直接点击 Create&#x2F;Reset Database初始化数据库按钮即可，初始化成功后会自动跳转到登录界面。</p>
<p>DVWA 默认的用户有5个，用户名密码如下：</p>
<pre><code>用户名 密码

admin   password

gordonb abc123

1337    charley

pablo   letmein

smithy  password
</code></pre>
<p>登录成功!!!!</p>
<h2 id="Hexo"><a href="#Hexo" class="headerlink" title="Hexo"></a>Hexo</h2><p>Hexo 是一个用 Nodejs 编写的快速、简洁且高效的博客框架。Hexo 使用 Markdown 解析文章，在几秒内，即可利用靓丽的主题生成静态网页。另外大家看到我的博客就是使用 Hexo 搭建的哦。</p>
<h3 id="安装-Hexo"><a href="#安装-Hexo" class="headerlink" title="安装 Hexo"></a>安装 Hexo</h3><p>Hexo 是用 Nodejs 编写的，所以安装的话得使用 npm 命令来安装：</p>
<pre><code>npm install hexo-cli -g
</code></pre>
<p>安装完成的话，顺便看一下 Hexo 相关的版本信息吧：</p>
<pre><code>hexo -v
</code></pre>
<h3 id="Hexo-基本部署"><a href="#Hexo-基本部署" class="headerlink" title="Hexo 基本部署"></a>Hexo 基本部署</h3><p>我们建立一个目录，然后到这个目录下初始化Hexo 环境</p>
<pre><code># 手动创建一个目录

mkdir hexo  

# 进入目录下并初始化Hexo环境

cd hexo  

hexo init  

#生成静态文件 启动Hexo

hexo g

hexo s      
</code></pre>
<p>然后就跑起来一个最基本的 Hexo 博客，关于 Hexo 博客的详细教程，建议搭建去参考Hexo官方文档，我这里重点在于 Termux 其他的不作过多的叙述.</p>
<p>使用浏览器访问: <a target="_blank" rel="noopener" href="http://127.0.0.1:4000/">http://127.0.0.1:4000</a> 即可看到 Hexo（ymal的语法特别严格，一点小失误就会报错，要仔细哦）</p>
<h2 id="Hexo-部署到-Nginx"><a href="#Hexo-部署到-Nginx" class="headerlink" title="Hexo 部署到 Nginx"></a>Hexo 部署到 Nginx</h2><p>Hexo 是纯静态博客，官方默认把 Hexo 搭建在 Github Pages 仅仅是把 Hexo 根目录的 public 文件夹即 Hexo 生成的纯 HTML 源码部署到上面而已。所以知道这样原理 我们就可以轻而易举地将 Hexo 部署到 Nginx 下面。</p>
<p>生成 HTML 纯静态源码</p>
<pre><code>hexo g
</code></pre>
<p>可以看到 Hexo 的根目录下 已经生成了 public 文件夹了</p>
<p>拷贝源码搭到 Nginx</p>
<p>现在我们只需要将 public 的文件夹里面的源码 全部拷贝到 Nginx 的网站根目录下：</p>
<pre><code># 在 nginx 根目录下新建 hexo 文件夹

mkdir $PREFIX/share/nginx/html/hexo

# 拷贝 源码到 nginx 下

cp -rf public/* $PREFIX/share/nginx/html/hexo
</code></pre>
<p>访问效果查看</p>
<p>浏览器访问:<a target="_blank" rel="noopener" href="http://127.0.0.1:8080/hexo/">http://127.0.0.1:8080/hexo/</a> 即可看到效果</p>
<p>当然这里网站的CSS等样式没有加载出来，这个原因是 Hexo 对网站目录下部署并不友好 ，大概有如下解决方法：</p>
<p>Nginx vhosts 配置多域名，这个服务器上常用的操作，但是 Termux 里面实现难度较高</p>
<p>将 Hexo 的源码 直接拷贝到 Nginx 的根目录下，不用拷贝到 html&#x2F;hexo 目录下了，然后直接访问 <a target="_blank" rel="noopener" href="http://127.0.0.1:8080/">http://127.0.0.1:8080</a> 即可看到效果</p>
<p>这里就只是说一下这个思路，因为强迫症的我 不能忍受 Nginx 根目录的文件 乱七八糟 &#x3D;，&#x3D; 大家想尝试的话 按照我这个思路去尝试就可以了</p>
<h2 id="knifefire还会持续更新文章的啦"><a href="#knifefire还会持续更新文章的啦" class="headerlink" title="knifefire还会持续更新文章的啦"></a>knifefire还会持续更新文章的啦</h2><p>©knifefire &amp; ZH</p>

      
    </div>
    
  </div>
  
    
    <div class="copyright">
        <p><span>本文标题:</span><a  href="/2022/09/12/termux/"></a></p>
        <p><span>文章作者:</span><a  href="/" title="访问  的个人博客"></a></p>
        <p><span>发布时间:</span>2022年09月12日 - 20时11分</p>
        <p><span>最后更新:</span>2022年09月12日 - 22时01分</p>
        <p>
            <span>原始链接:</span><a class="post-url" href="/2022/09/12/termux/" title="">http://yoursite.com/2022/09/12/termux/</a>
            <span class="copy-path" data-clipboard-text="原文: http://yoursite.com/2022/09/12/termux/　　作者: " title=""></span>
        </p>
        <p>
            <span>许可协议:</span><i class="fa fa-creative-commons"></i> <a rel="license noopener" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/3.0/cn/" title="中国大陆 (CC BY-NC-SA 3.0 CN)" target = "_blank">"署名-非商用-相同方式共享 3.0"</a> 转载请保留原文链接及作者。
        </p>
    </div>



<nav id="article-nav">
  
    <a  href="/2022/09/12/%E8%87%AA%E5%8A%A8%E6%89%93%E5%8D%A1/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption"><</strong>
      <div class="article-nav-title">
        
          (no title)
        
      </div>
    </a>
  
  
</nav>


  
</article>

    <div id="toc" class="toc-article">
    <strong class="toc-title">文章目录</strong>
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A6%82%E6%9E%9C%E4%BD%A0%E6%B2%A1%E6%9C%89%E4%BB%BB%E4%BD%95%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%BB%8F%E9%AA%8C%EF%BC%8C%E9%82%A3%E4%B9%88%E8%AF%B7%E5%85%88%E7%82%B9%E6%88%91%EF%BC%81%EF%BC%81%EF%BC%81"><span class="toc-number">1.</span> <span class="toc-text">如果你没有任何命令行经验，那么请先点我！！！</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-number">2.</span> <span class="toc-text">初始化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AB%AF%E5%8F%A3%E6%9F%A5%E7%9C%8B"><span class="toc-number">3.</span> <span class="toc-text">端口查看</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E6%89%80%E6%9C%89%E7%AB%AF%E5%8F%A3"><span class="toc-number">4.</span> <span class="toc-text">查看所有端口</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B3306%E7%AB%AF%E5%8F%A3%E7%9A%84%E5%BC%80%E6%94%BE%E6%83%85%E5%86%B5"><span class="toc-number">5.</span> <span class="toc-text">查看3306端口的开放情况</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85nmap%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F%E7%A5%9E%E5%99%A8"><span class="toc-number">6.</span> <span class="toc-text">安装nmap端口扫描神器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%AB%E6%8F%8F%E6%9C%AC%E5%9C%B0%E7%AB%AF%E5%8F%A3"><span class="toc-number">7.</span> <span class="toc-text">扫描本地端口</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9B%B4%E6%8D%A2%E5%9B%BD%E5%86%85%E6%BA%90"><span class="toc-number">8.</span> <span class="toc-text">更换国内源</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80%EF%BC%9A%E8%87%AA%E5%8A%A8%E6%9B%BF%E6%8D%A2%EF%BC%88%E6%8E%A8%E8%8D%90%EF%BC%89"><span class="toc-number">8.1.</span> <span class="toc-text">方法一：自动替换（推荐）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8C%EF%BC%9A%E6%89%8B%E5%8A%A8%E4%BF%AE%E6%94%B9"><span class="toc-number">8.2.</span> <span class="toc-text">方法二：手动修改</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%88%E7%AB%AF%E9%85%8D%E8%89%B2%E6%96%B9%E6%A1%88"><span class="toc-number">9.</span> <span class="toc-text">终端配色方案</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%8B%E6%9C%BA-App-%E9%BB%98%E8%AE%A4%E5%8F%AA%E8%83%BD%E8%AE%BF%E9%97%AE%E8%87%AA%E5%B7%B1%E7%9A%84%E6%95%B0%E6%8D%AE%EF%BC%8C%E5%A6%82%E6%9E%9C%E8%A6%81%E8%AE%BF%E9%97%AE%E6%89%8B%E6%9C%BA%E7%9A%84%E5%AD%98%E5%82%A8%EF%BC%8C%E9%9C%80%E8%A6%81%E8%AF%B7%E6%B1%82%E6%9D%83%E9%99%90%EF%BC%8C%E5%A6%82%E6%9E%9C%E4%BD%A0%E5%88%9A%E5%88%9A%E4%B8%8D%E5%B0%8F%E5%BF%83%E7%82%B9%E4%BA%86%E6%8B%92%E7%BB%9D%E7%9A%84%E8%AF%9D%EF%BC%8C%E9%82%A3%E4%B9%88%E5%8F%AF%E4%BB%A5%E6%89%A7%E8%A1%8C%E4%BB%A5%E4%B8%8B%E5%91%BD%E4%BB%A4%E6%9D%A5%E9%87%8D%E6%96%B0%E8%8E%B7%E5%8F%96%E8%AE%BF%E9%97%AE%E6%9D%83%E9%99%90"><span class="toc-number">9.1.</span> <span class="toc-text">手机 App 默认只能访问自己的数据，如果要访问手机的存储，需要请求权限，如果你刚刚不小心点了拒绝的话，那么可以执行以下命令来重新获取访问权限:</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Enter-a-number-leave-blank-to-not-to-change-14"><span class="toc-number">9.1.1.</span> <span class="toc-text">Enter a number, leave blank to not to change: 14</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Enter-a-number-leave-blank-to-not-to-change-6"><span class="toc-number">9.1.2.</span> <span class="toc-text">Enter a number, leave blank to not to change: 6</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9A%E5%88%B6%E5%B8%B8%E7%94%A8%E6%8C%89%E9%94%AE"><span class="toc-number">10.</span> <span class="toc-text">定制常用按键</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B0%E5%BB%BA%E5%B9%B6%E7%BC%96%E8%BE%91%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">10.1.</span> <span class="toc-text">新建并编辑配置文件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#zsh-%E4%B8%BB%E9%A2%98%E9%85%8D%E8%89%B2"><span class="toc-number">11.</span> <span class="toc-text">zsh 主题配色</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#zsh-%E6%8F%92%E4%BB%B6%E6%8E%A8%E8%8D%90"><span class="toc-number">11.1.</span> <span class="toc-text">zsh 插件推荐</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#autosuggestions"><span class="toc-number">11.1.1.</span> <span class="toc-text">autosuggestions</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8B%B7%E8%B4%9D%E5%88%B0-plugins-%E7%9B%AE%E5%BD%95%E4%B8%8B"><span class="toc-number">11.1.2.</span> <span class="toc-text">拷贝到 plugins 目录下</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E5%90%AF%E5%8A%A8%E9%97%AE%E5%80%99%E8%AF%AD"><span class="toc-number">12.</span> <span class="toc-text">修改启动问候语</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B6%85%E7%BA%A7%E7%AE%A1%E7%90%86%E5%91%98%E8%BA%AB%E4%BB%BD"><span class="toc-number">13.</span> <span class="toc-text">超级管理员身份</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%8B%E6%9C%BA%E6%B2%A1%E6%9C%89root"><span class="toc-number">13.1.</span> <span class="toc-text">手机没有root</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%8B%E6%9C%BA%E5%B7%B2%E7%BB%8Froot"><span class="toc-number">13.2.</span> <span class="toc-text">手机已经root</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83"><span class="toc-number">14.</span> <span class="toc-text">开发环境</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Emacs"><span class="toc-number">14.1.</span> <span class="toc-text">Emacs</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#nano"><span class="toc-number">14.2.</span> <span class="toc-text">nano</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Vim"><span class="toc-number">14.3.</span> <span class="toc-text">Vim</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E6%B1%89%E5%AD%97%E4%B9%B1%E7%A0%81"><span class="toc-number">14.4.</span> <span class="toc-text">解决汉字乱码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Vim-%E9%85%8D%E8%89%B2"><span class="toc-number">14.5.</span> <span class="toc-text">Vim 配色</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Apache"><span class="toc-number">15.</span> <span class="toc-text">Apache</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Apache-%E8%A7%A3%E6%9E%90-PHP"><span class="toc-number">16.</span> <span class="toc-text">Apache 解析 PHP</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-php-apache"><span class="toc-number">17.</span> <span class="toc-text">安装 php-apache</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE-Apache"><span class="toc-number">17.1.</span> <span class="toc-text">配置 Apache</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%A3%E6%9E%90-PHP-%E6%B5%8B%E8%AF%95"><span class="toc-number">18.</span> <span class="toc-text">解析 PHP 测试</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#C"><span class="toc-number">19.</span> <span class="toc-text">C</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-clang"><span class="toc-number">19.1.</span> <span class="toc-text">安装 clang</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Java"><span class="toc-number">20.</span> <span class="toc-text">Java</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MariaDB-MySQL"><span class="toc-number">21.</span> <span class="toc-text">MariaDB(MySQL)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E7%9A%84%E4%B8%A4%E4%B8%AA%E7%94%A8%E6%88%B7"><span class="toc-number">22.</span> <span class="toc-text">默认的两个用户</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#root-%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95"><span class="toc-number">23.</span> <span class="toc-text">root 用户登录</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9C%E7%A8%8B%E7%99%BB%E5%BD%95-MySQL"><span class="toc-number">23.1.</span> <span class="toc-text">远程登录 MySQL</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Nginx"><span class="toc-number">24.</span> <span class="toc-text">Nginx</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-Nginx"><span class="toc-number">24.1.</span> <span class="toc-text">安装 Nginx</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-17-10-%E7%89%88%E6%9C%AC"><span class="toc-number">24.1.1.</span> <span class="toc-text">1.17.10 版本</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95-Nginx"><span class="toc-number">24.2.</span> <span class="toc-text">测试 Nginx</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%AF%E5%8A%A8-Nginx"><span class="toc-number">24.3.</span> <span class="toc-text">启动 Nginx</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%87%8D%E5%90%AF-Nginx"><span class="toc-number">24.4.</span> <span class="toc-text">重启 Nginx</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%81%9C%E6%AD%A2-Nginx"><span class="toc-number">24.5.</span> <span class="toc-text">停止 Nginx</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2-nginx-%E8%BF%9B%E7%A8%8B%E7%9B%B8%E5%85%B3%E7%9A%84-PID-%E5%8F%B7"><span class="toc-number">24.6.</span> <span class="toc-text">查询 nginx 进程相关的 PID 号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9D%80%E6%8E%89-%E6%9F%A5%E8%AF%A2%E5%87%BA%E7%9A%84-PID%E5%8F%B7%E8%BF%9B%E7%A8%8B"><span class="toc-number">24.7.</span> <span class="toc-text">杀掉 查询出的 PID号进程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Nginx-%E8%A7%A3%E6%9E%90-PHP"><span class="toc-number">24.8.</span> <span class="toc-text">Nginx 解析 PHP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE-php-fpm"><span class="toc-number">24.9.</span> <span class="toc-text">配置 php-fpm</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE-Nginx"><span class="toc-number">24.10.</span> <span class="toc-text">配置 Nginx</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95-PHP-%E8%A7%A3%E6%9E%90"><span class="toc-number">24.11.</span> <span class="toc-text">测试 PHP 解析</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%AF%E5%8A%A8%E6%9C%8D%E5%8A%A1"><span class="toc-number">24.12.</span> <span class="toc-text">启动服务</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Nodejs"><span class="toc-number">25.</span> <span class="toc-text">Nodejs</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-Nodejs"><span class="toc-number">25.1.</span> <span class="toc-text">安装 Nodejs</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Hello-World"><span class="toc-number">26.</span> <span class="toc-text">Hello World</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#http-server"><span class="toc-number">27.</span> <span class="toc-text">http-server</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E6%8A%A5%E9%94%99"><span class="toc-number">27.1.</span> <span class="toc-text">安装报错</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PHP"><span class="toc-number">28.</span> <span class="toc-text">PHP</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85PHP"><span class="toc-number">28.1.</span> <span class="toc-text">安装PHP</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Python"><span class="toc-number">29.</span> <span class="toc-text">Python</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85python2"><span class="toc-number">29.1.</span> <span class="toc-text">安装python2</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85python3"><span class="toc-number">29.2.</span> <span class="toc-text">安装python3</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%87%E7%BA%A7-pip3"><span class="toc-number">29.3.</span> <span class="toc-text">升级 pip3</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#iPython"><span class="toc-number">30.</span> <span class="toc-text">iPython</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Jupyter-Notebook"><span class="toc-number">31.</span> <span class="toc-text">Jupyter Notebook</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA"><span class="toc-number"></span> <span class="toc-text">网站搭建</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#DVWA"><span class="toc-number">1.</span> <span class="toc-text">DVWA</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B0%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">1.1.</span> <span class="toc-text">新建数据库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%96%E8%BE%91-DVWA-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">1.2.</span> <span class="toc-text">编辑 DVWA 配置文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE-php-ini"><span class="toc-number">1.3.</span> <span class="toc-text">配置 php.ini</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Hexo"><span class="toc-number">2.</span> <span class="toc-text">Hexo</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-Hexo"><span class="toc-number">2.1.</span> <span class="toc-text">安装 Hexo</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Hexo-%E5%9F%BA%E6%9C%AC%E9%83%A8%E7%BD%B2"><span class="toc-number">2.2.</span> <span class="toc-text">Hexo 基本部署</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Hexo-%E9%83%A8%E7%BD%B2%E5%88%B0-Nginx"><span class="toc-number">3.</span> <span class="toc-text">Hexo 部署到 Nginx</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#knifefire%E8%BF%98%E4%BC%9A%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0%E6%96%87%E7%AB%A0%E7%9A%84%E5%95%A6"><span class="toc-number">4.</span> <span class="toc-text">knifefire还会持续更新文章的啦</span></a></li></ol>
</div>
<style>
    .left-col .switch-btn {
        display: none;
    }
    .left-col .switch-area {
        display: none;
    }
</style>
<input type="button" id="tocButton" value="隐藏目录"  title="点击按钮隐藏或者显示文章目录">

<script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>

<script>
    var valueHide = "隐藏目录";
    var valueShow = "显示目录";
    if ($(".left-col").is(":hidden")) {
        $("#tocButton").attr("value", valueShow);
    }
    $("#tocButton").click(function() {
        if ($("#toc").is(":hidden")) {
            $("#tocButton").attr("value", valueHide);
            $("#toc").slideDown(320);
            $(".switch-btn, .switch-area").fadeOut(300);
        }
        else {
            $("#tocButton").attr("value", valueShow);
            $("#toc").slideUp(350);
            $(".switch-btn, .switch-area").fadeIn(500);
        }
    })
    if ($(".toc").length < 1) {
        $("#toc, #tocButton").hide();
        $(".switch-btn, .switch-area").show();
    }
</script>




<div class="bdsharebuttonbox">
	<a href="#" class="fx fa-weibo bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
	<a href="#" class="fx fa-weixin bds_weixin" data-cmd="weixin" title="分享到微信"></a>
	<a href="#" class="fx fa-qq bds_sqq" data-cmd="sqq" title="分享到QQ好友"></a>
	<a href="#" class="fx fa-facebook-official bds_fbook" data-cmd="fbook" title="分享到Facebook"></a>
	<a href="#" class="fx fa-twitter bds_twi" data-cmd="twi" title="分享到Twitter"></a>
	<a href="#" class="fx fa-linkedin bds_linkedin" data-cmd="linkedin" title="分享到linkedin"></a>
	<a href="#" class="fx fa-files-o bds_copy" data-cmd="copy" title="分享到复制网址"></a>
</div>
<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"2","bdSize":"24"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>




    
        <section class="changyan" id="comments">
  <!--<div id="uyan_frame"></div>-->
  <div id="SOHUCS"></div>
  <script charset="utf-8" type="text/javascript" src="https://changyan.sohu.com/upload/changyan.js"></script>
  <script type="text/javascript">
    window.changyan.api.config({
      appid: 'xxxx',
      conf: 'xxxxxxxxx'
    });
  </script>
</section>
    



    <div class="scroll" id="post-nav-button">
        
            <a  href="/2022/09/12/%E8%87%AA%E5%8A%A8%E6%89%93%E5%8D%A1/" title="上一篇: ">
                <i class="fa fa-angle-left"></i>
            </a>
        
        <a title="文章列表"><i class="fa fa-bars"></i><i class="fa fa-times"></i></a>
        
            <a  href="/" title="回到主页"><i class="fa fa-home"></i></a>
        
    </div>
    <ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2022/09/12/%E8%87%AA%E5%8A%A8%E6%89%93%E5%8D%A1/">自动打卡</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/09/12/termux/">termux</a></li></ul>
    
<script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>

    <script>
        $(".post-list").addClass("toc-article");
        // $(".post-list-item a").attr("target","_blank");
        $("#post-nav-button > a:nth-child(2)").click(function() {
            $(".fa-bars, .fa-times").toggle();
            $(".post-list").toggle(300);
            if ($(".toc").length > 0) {
                $("#toc, #tocButton").toggle(200, function() {
                    if ($(".switch-area").is(":visible")) {
                        $("#toc, .switch-btn, .switch-area").toggle();
                        $("#tocButton").attr("value", valueHide);
                        }
                    })
            }
            else {
                $(".switch-btn, .switch-area").fadeToggle(300);
            }
        })
    </script>




    <script>
        
    </script>

</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                &copy; 2022 knifefire
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank">Hexo &nbsp;&nbsp;</a><a href="https://github.com/maochunguang" target="_blank">Blog</a> by tommy
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" >极客到访数: 
                            <span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>, </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit">本页阅读量: 
                            <span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>

    </div>
    
<script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>


<script src="/js/main.js"></script>


    <script>
        $(document).ready(function() {
            var backgroundnum = 1;
            var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
            $("#mobile-nav").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
            $(".left-col").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
        })
    </script>


<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'xxxxx', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->



	<script>
	var _hmt = _hmt || [];
	(function() {
	  var hm = document.createElement("script");
	  hm.src = "//hm.baidu.com/hm.js?xxxxxx";
	  var s = document.getElementsByTagName("script")[0]; 
	  s.parentNode.insertBefore(hm, s);
	})();
	</script>



<div class="scroll" id="scroll">
    <a href="#"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments"><i class="fa fa-comments-o"></i></a>
    <a href="#footer"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    $(document).ready(function() {
        if ($("#comments").length < 1) {
            $("#scroll > a:nth-child(2)").hide();
        };
    })
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

  <script language="javascript">
    $(function() {
        $("a[title]").each(function() {
            var a = $(this);
            var title = a.attr('title');
            if (title == undefined || title == "") return;
            a.data('title', title).removeAttr('title').hover(
            function() {
                var offset = a.offset();
                $("<div id=\"anchortitlecontainer\"></div>").appendTo($("body")).html(title).css({
                    top: offset.top - a.outerHeight() - 15,
                    left: offset.left + a.outerWidth()/2 + 1
                }).fadeIn(function() {
                    var pop = $(this);
                    setTimeout(function() {
                        pop.remove();
                    }, pop.text().length * 800);
                });
            }, function() {
                $("#anchortitlecontainer").remove();
            });
        });
    });
</script>


  </div>
</body>

<!-- 页面点击小红心 -->
<script type="text/javascript" src="/js/love.js"></script>

<!--动态线条背景-->
<script type="text/javascript"
color="220,220,220" opacity='0.7' zIndex="-2" count="200" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js">
</script>